spring:
  application:
    name: FSA Forest Client API
  main:
    lazy-initialization: false
    banner-mode: "off"
    allow-bean-definition-overriding: true
  datasource:
    driver-class-name: oracle.jdbc.OracleDriver
    url: jdbc:oracle:thin://${ca.bc.gov.nrs.oracle.host}/${ca.bc.gov.nrs.oracle.service}
    username: ${ca.bc.gov.nrs.oracle.username}
    password: ${ca.bc.gov.nrs.oracle.password}
    hikari:
      connectionTimeout: 90000
      idleTimeout: 45000
      maxLifetime: 60000
      keepaliveTime: 30000
      poolName: SimpleCachePool
      minimumIdle: 1
      maximumPoolSize: 3
  r2dbc:
    url: r2dbcs:oracle://${ca.bc.gov.nrs.oracle.host}/${ca.bc.gov.nrs.oracle.service}
    username: ${ca.bc.gov.nrs.oracle.username}
    password: ${ca.bc.gov.nrs.oracle.password}
    pool:
      enabled: true
      initialSize: 1
      minIdle: 1
      maxSize: 3
      maxLifeTime: 60000
      maxIdleTime: 45000
      maxCreateConnectionTime: 90000
      poolName: ForestClientApiPool
  flyway:
    enabled: true
    validate-on-migrate: true
    user: ${ca.bc.gov.nrs.oracle.username}
    password: ${ca.bc.gov.nrs.oracle.password}
    url: jdbc:oracle:thin:@${ca.bc.gov.nrs.oracle.host}/${ca.bc.gov.nrs.oracle.service}
logging:
  level:
    org:
      springframework.test: OFF
      testcontainers: OFF
    com.github.dockerjava: OFF
    org.springframework.r2dbc: DEBUG
    io.r2dbc.postgresql.QUERY: DEBUG
    io.r2dbc.postgresql.PARAM: DEBUG

ca:
  bc:
    gov:
      nrs:
        oracle:
          service: ${ORACLEDB_SERVICENAME:fsa-forest}
          database: ${ORACLEDB_DATABASE:fsa-forest}
          host: ${ORACLEDB_HOST:localhost}:${ORACLEDB_PORT:1521}
          username: ${ORACLEDB_USER:user}
          password: ${ORACLEDB_PASSWORD:passwd}
          schema: THE
